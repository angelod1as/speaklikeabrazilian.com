{% extends '_layouts/hq/hq.html.twig' %}

{% block content %}
<div class='container-fluid' id='content'>
    <div class='row-fluid'>
		<div class='span12'>
			<h3>Users</h3>
		</div>
	</div>
    <div class='row-fluid'>
    {% include 'hq/users/left_menu.html.twig' %}
        <div class='span9'>
            <h1>{{ lang('edit_user_heading') }}</h1>
            <p>{{  lang('edit_user_subheading') }}</p>

            <div id="infoMessage">{{ message }}</div>

            {{ validation_errors() }}
            
            {{ form_open(uri_string()) }}
                <div class="control-group">
                    <label class="control-label" for="first_name">{{ lang('edit_user_fname_label') }}</label>
				    <div class="controls">
				      {{ form_input(first_name, set_value('first_name'), 'placeholder="Nome"') }}
				    </div>
			  	</div>
			  	<div class="control-group">
                    <label class="control-label" for="last_name">{{ lang('edit_user_lname_label') }}</label>
				    <div class="controls">
				      {{ form_input(last_name, set_value('last_name'), 'placeholder="Sobrenome"') }}
				    </div>
			  	</div>
			  	<div class="control-group">
                    <label class="control-label" for="company">{{ lang('edit_user_company_label') }}</label>
				    <div class="controls">
				      {{ form_input(company, set_value('company'), 'placeholder="Empresa"') }}
				    </div>
			  	</div>
			  	<div class="control-group">
                    <label class="control-label" for="phone">{{ lang('edit_user_phone_label') }}</label>
				    <div class="controls">
				      {{ form_input(phone, set_value('phone'), 'placeholder="Telefone"') }}
				    </div>
			  	</div>
			  	<div class="control-group">
                    <label class="control-label" for="password">{{ lang('edit_user_password_label') }}</label>
				    <div class="controls">
				      {{ form_input(password, set_value('password'), 'placeholder="Senha"') }}
				    </div>
			  	</div>
			  	<div class="control-group">
                    <label class="control-label" for="password_confirm">{{ lang('edit_user_password_confirm_label') }}</label>
				    <div class="controls">
				      {{ form_input(password_confirm, set_value('password_confirm'), 'placeholder="Confirmar Senha"') }}
				    </div>
			  	</div>
			  	
                <h3>{{ lang('edit_user_groups_heading') }}</h3>
                {% for group in groups %}
                <label class="checkbox">
                    {% set gId=group['id'] %}
                    {% set checked='' %}
                    {% for grp in currentGroups  %}
                        {% if gId == grp.id %}
                            {% set checked = ' checked="checked"' %}
                        {% endif %}
                    {% endfor %}
                    <input type="checkbox" name="groups[]" value="{{ group['id'] }}"{{ checked }}>
                    {{ group['name'] }}
                </label>
                {% endfor %}
                
                {{ form_hidden('id', user.id) }}
                
                <div class="control-group">
			  		<input type="submit" value="{{ lang('edit_user_submit_btn') }}" class='btn btn-primary' />
			  	</div>

            {{ form_close() }}
        </div>
    </div>
</div>
{% endblock %}